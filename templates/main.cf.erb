# alias_database = hash:/etc/aliases
alias_database = <%= @main_alias_database_real %>

# alias_maps = hash:/etc/aliases, nis:mail.aliases
alias_maps = <%= @main_alias_maps_real %>

# append_dot_mydomain = yes
append_dot_mydomain = <%= @main_append_dot_mydomain_real %>

# biff = yes
biff = <%= @main_biff_real %>

# command_directory = /usr/sbin
command_directory = <%= @main_command_directory_real %>

# daemon_directory = /usr/libexec/postfix (RHEL & Suse)
# daemon_directory = /usr/lib/postfix (Debian & Ubuntu)
daemon_directory = <%= @main_daemon_directory_real %>

# data_directory = /var/lib/postfix
data_directory = <%= @main_data_directory_real %>

# inet_interfaces = all
inet_interfaces = <%= @main_inet_interfaces_real %>

# inet_protocols = ipv4 (RHEL & Suse)
# inet_protocols = all (Debian & Ubuntu)
inet_protocols = <%= @main_inet_protocols_real %>
<% if @main_smtp_tls_mandatory_protocols -%>

smtp_tls_mandatory_protocols = <%= @main_smtp_tls_mandatory_protocols %>
<% end -%>
<% if @main_smtp_tls_protocols -%>

smtp_tls_protocols = <%= @main_smtp_tls_protocols %>
<% end -%>
<% if @main_smtp_tls_mandatory_ciphers -%>

smtp_tls_mandatory_ciphers = <%= @main_smtp_tls_mandatory_ciphers %>
<% end -%>
<% if @main_smtp_tls_security_level -%>

smtp_tls_security_level = <%= @main_smtp_tls_security_level %>
<% end -%>
<% if @main_smtp_tls_session_cache_database -%>

smtp_tls_session_cache_database = <%= @main_smtp_tls_session_cache_database %>
<% end -%>
<% if @main_smtpd_helo_required -%>

smtpd_helo_required = <%= @main_smtpd_helo_required %>
<% end -%>
<% if @main_smtpd_helo_restrictions -%>

smtpd_helo_restrictions = <%= @main_smtpd_helo_restrictions.join(",\n    ") %>
<% end -%>
<% if @main_smtpd_recipient_restrictions -%>

smtpd_recipient_restrictions = <%= @main_smtpd_recipient_restrictions.join(",\n    ") %>
<% end -%>
<% if @main_smtpd_tls_mandatory_protocols -%>

smtpd_tls_mandatory_protocols = <%= @main_smtpd_tls_mandatory_protocols %>
<% end -%>
<% if @main_smtpd_tls_protocols -%>

smtpd_tls_protocols = <%= @main_smtpd_tls_protocols %>
<% end -%>
<% if @main_smtpd_tls_mandatory_ciphers -%>

smtpd_tls_mandatory_ciphers = <%= @main_smtpd_tls_mandatory_ciphers %>
<% end -%>
<% if @main_tls_high_cipherlist -%>

tls_high_cipherlist = <%= @main_tls_high_cipherlist %>
<% end -%>
<% if @main_smtpd_tls_security_level -%>

smtpd_tls_security_level = <%= @main_smtpd_tls_security_level %>
<% end -%>
<% if @main_smtpd_tls_key_file -%>

smtpd_tls_key_file = <%= @main_smtpd_tls_key_file %>
<% end -%>
<% if @main_smtpd_tls_cert_file -%>

smtpd_tls_cert_file = <%= @main_smtpd_tls_cert_file %>
<% end -%>
<% if @main_smtpd_tls_session_cache_database -%>

smtpd_tls_session_cache_database = <%= @main_smtpd_tls_session_cache_database %>
<% end -%>
<% if @main_smtp_tls_policy_maps -%>

smtp_tls_policy_maps = hash:<%= @main_smtp_tls_policy_maps %>
<% end -%>
<% if @main_mailbox_command -%>

mailbox_command = <%= @main_mailbox_command %>
<% end -%>

# mailbox_size_limit = 51200000
mailbox_size_limit = <%= @main_mailbox_size_limit_real %>

# message_size_limit = 10240000
<% if @main_message_size_limit -%>
message_size_limit = <%= @main_message_size_limit %>
<% end -%>

# mydestination = $myhostname, localhost.$mydomain, localhost
mydestination = <%= @main_mydestination_real %>
<% if @main_mydomain -%>

mydomain = <%= @main_mydomain %>
<% end -%>

# myhostname = <%= @hostname %>.localdomain (Debian, Suse & Ubuntu)
# myhostname = <%= @fqdn %> (RHEL)
myhostname = <%= @main_myhostname_real %>

# mynetworks = 127.0.0.0/8 <%= @network_eth0 %>/<%= @netmask_eth0 %> (RHEL & Suse)
# mynetworks = 127.0.0.0/8 <%= @network_eth0 %>/<%= @netmask_eth0 %> [::1]/128 [fe80::]/64 (Debian & Ubuntu)
mynetworks = <%= @main_mynetworks_real %>

# myorigin = $myhostname
myorigin = <%= @main_myorigin_real %>

# queue_directory = /var/spool/postfix
queue_directory = <%= @main_queue_directory_real %>

# recipient_delimiter =
recipient_delimiter = <%= @main_recipient_delimiter_real %>
<% if @main_relay_domains -%>

relay_domains = <%= @main_relay_domains %>
<% end -%>

# relayhost =
<% if @main_use_relayhost -%>
relayhost = <%= @main_relayhost_real %>:<%= @main_relayhost_port_real %>
<% end -%>
<% if @main_smtpd_relay_restrictions -%>

smtpd_relay_restrictions = <%= @main_smtpd_relay_restrictions %>
<% end -%>

# setgid_group = postdrop
setgid_group = <%= @main_setgid_group_real %>
<% if @main_virtual_alias_domains_real -%>

virtual_alias_domains = <%= @main_virtual_alias_domains_real %>
<% end -%>
<% if @main_virtual_alias_maps_real and (@virtual_aliases_real or @virtual_aliases_external_real) -%>

virtual_alias_maps = <%= @main_virtual_alias_maps_real %>
<% end -%>
<% if @main_transport_maps_real and (@transport_maps_real or @transport_maps_external_real) -%>

transport_maps = <%= @main_transport_maps_real %>
<% end -%>

maximal_backoff_time = <%= @main_maximal_backoff_time %>
maximal_queue_lifetime = <%= @main_maximal_queue_lifetime %>
minimal_backoff_time = <%= @main_minimal_backoff_time %>
queue_run_delay = <%= @main_queue_run_delay %>

default_process_limit = <%= @main_default_process_limit %>
qmgr_message_active_limit = <%= @main_qmgr_message_active_limit %>
qmgr_message_recipient_limit = <%= @main_qmgr_message_recipient_limit %>
default_destination_concurrency_limit = <%= @main_default_destination_concurrency_limit %>
default_destination_recipient_limit = <%= @main_default_destination_recipient_limit %>
smtp_mx_session_limit = <%= @main_smtp_mx_session_limit %>
smtpd_client_connection_count_limit = <%= @main_smtpd_client_connection_count_limit %>
smtp_destination_concurrency_limit = <%= @main_smtp_destination_concurrency_limit %>

<% if @main_smtp_fallback_relay -%>
smtp_fallback_relay = <%= @main_smtp_fallback_relay %>
<% end -%>
<% if @enable_polite -%>

# Polite policy
polite_destination_concurrency_limit = 20
polite_destination_rate_delay = 0
polite_destination_recipient_limit = 10

# Turtle policy
turtle_destination_concurrency_limit = 10
turtle_destination_rate_delay = 0
turtle_destination_recipient_limit = 5
<% end -%>
<% if @main_smtpd_milters  -%>
smtpd_milters = <%= @main_smtpd_milters %>
<% end -%>
<% if @non_main_smtpd_milters  -%>
non_smtpd_milters = <%= @non_main_smtpd_milters %>
<% end -%>
